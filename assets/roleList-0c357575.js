import{r,v as A,e as n,o as f,c as V,w as o,h as N,a as e,q as g,x as O,y as $,E as P,_ as j,b as q,z as K,A as L,f as F,B as v,C as M,t as H}from"./index-e29c914f.js";const Q={class:"dialog-footer"},G={__name:"distributePermission",props:{modelValue:{type:Boolean,required:!0},roleId:{type:String,required:!0}},emits:["update:modelValue"],setup(C,{emit:c}){const a=C,m=r([]);(async()=>{const i=await O();m.value=i.bizobj})();const u={children:"secondMenuList",label:"name"},d=r(null),p=async()=>{let i=["1","1-1","1-2","2","2-1","2-2","3","3-1","3-2"];const s=[i[Math.floor(Math.random()*i.length)]];await $(),d.value.setCheckedKeys(s)};A(()=>a.roleId,i=>{i&&p()});const h=()=>{console.log(d.value.getCheckedKeys()),P.success("用户角色更新成功"),_()},_=()=>{c("update:modelValue",!1)};return(i,y)=>{const s=n("el-tree"),t=n("el-button"),x=n("el-dialog");return f(),V(x,{title:"配置权限","model-value":C.modelValue,width:"30%","align-center":"",draggable:"",onClose:_},{footer:o(()=>[N("span",Q,[e(t,{onClick:_},{default:o(()=>[g("取消")]),_:1}),e(t,{type:"primary",onClick:h},{default:o(()=>[g("确定")]),_:1})])]),default:o(()=>[e(s,{ref_key:"treeRef",ref:d,data:m.value,"show-checkbox":"","node-key":"id","default-expand-all":"",props:u},null,8,["data"])]),_:1},8,["model-value"])}}};const J={class:"home-box"},W={name:"getRoleList"},X=Object.assign(W,{setup(C){const c=r(!0);q(()=>{d()});const a=r({id:0,name:"",date:"",page:1,page_size:10}),m=r([]),b=r(0),u=r(!1),d=async()=>{u.value=!0,await K(a.value).then(s=>{setTimeout(()=>{m.value=s.bizobj,b.value=Number(s.page_info.total_items),u.value=!1},1e3)}).catch(s=>{u.value=!1})},p=r(!1),h=r(""),_=s=>{h.value=s.id,p.value=!0},i=()=>{a.value.page=1,d()},y=()=>{P.error("演示模式")};return(s,t)=>{const x=n("el-input-number"),k=n("el-form-item"),Y=n("el-input"),z=n("el-date-picker"),D=n("el-button"),R=n("el-form"),S=n("right-toolbar"),w=n("el-table-column"),U=n("el-table"),B=n("pagination"),E=n("el-card"),I=L("auth"),T=L("loading");return f(),F("div",J,[v(e(R,{inline:!0,model:a.value},{default:o(()=>[e(k,{label:"角色ID",prop:"id"},{default:o(()=>[e(x,{modelValue:a.value.id,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value.id=l),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),e(k,{label:"角色名称"},{default:o(()=>[e(Y,{modelValue:a.value.name,"onUpdate:modelValue":t[1]||(t[1]=l=>a.value.name=l),placeholder:"角色名称",clearable:""},null,8,["modelValue"])]),_:1}),e(k,{label:"操作时间",style:{width:"308px"}},{default:o(()=>[e(z,{modelValue:a.value.date,"onUpdate:modelValue":t[2]||(t[2]=l=>a.value.date=l),"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),e(k,null,{default:o(()=>[v((f(),V(D,{onClick:i,type:"primary",style:{"margin-left":"-16px"}},{default:o(()=>[g("查询 ")]),_:1})),[[I,"/adminAuth/getRoleList"]])]),_:1})]),_:1},8,["model"]),[[M,c.value]]),e(S,{showSearch:c.value,"onUpdate:showSearch":t[3]||(t[3]=l=>c.value=l),onQueryTable:d,haveImport:!1,onOnOutClick:y,onOnAddClick:y},null,8,["showSearch"]),e(E,null,{default:o(()=>[v((f(),V(U,{data:m.value,"element-loading-text":"加载中...",border:""},{default:o(()=>[e(w,{prop:"id",label:"角色ID",width:"180"}),e(w,{prop:"name",label:"角色名称",width:"180"}),e(w,{label:"操作时间","min-width":"160"},{default:o(({row:l})=>[g(H(s.$filters.dateFilter(l.operator,"YYYY-MM-DD HH:mm:ss")),1)]),_:1}),e(w,{prop:"address",label:"操作","min-width":"160"},{default:o(({row:l})=>[v((f(),V(D,{type:"primary",size:"small",onClick:Z=>_(l)},{default:o(()=>[g("配置权限 ")]),_:2},1032,["onClick"])),[[I,"/adminAuth/setting"]])]),_:1})]),_:1},8,["data"])),[[T,u.value]]),v(e(B,{total:b.value,page:a.value.page,"onUpdate:page":t[4]||(t[4]=l=>a.value.page=l),limit:a.value.page_size,"onUpdate:limit":t[5]||(t[5]=l=>a.value.page_size=l),onPagination:d},null,8,["total","page","limit"]),[[M,b.value>0]])]),_:1}),e(G,{modelValue:p.value,"onUpdate:modelValue":t[6]||(t[6]=l=>p.value=l),roleId:h.value},null,8,["modelValue","roleId"])])}}}),te=j(X,[["__scopeId","data-v-5a01b86a"]]);export{te as default};
